{"name":"Rt.zps","tagline":"RedTurtle Zope Process Inspector","body":"zps - A zope processes inspector\r\n================================\r\n\r\n**zps** is addressed to the manager of zope and plone sites that want to get quickly\r\nget informations about the running instances of zope.\r\n\r\nInstallation\r\n------------\r\n::\r\n\r\n  easy_install psutil\r\n  easy_install rt.zps\r\n\r\nThanks to `@der_sven_ <http://twitter.com/der_sven_>`_ you can find up to date **debian packages** here:\r\n\r\n- http://www.apt.leftxs.org/\r\n\r\nUsage\r\n-----\r\n**zps** basic usage is straightforward: ::\r\n\r\n  [user@localhost]$zps\r\n  CWD:      /home/user/plone1\r\n  User:     user\r\n  PID:      1234\r\n  Conf:     /home/user/plone1/parts/instance/etc/zope.conf\r\n  Address:  8081\r\n  Memory:   1.96%\r\n\r\n  CWD:      /home/user/plone2\r\n  User:     user\r\n  PID:      12345\r\n  Conf:     /home/user/plone2/parts/instance/etc/zope.conf\r\n  Address:  8082\r\n  Memory:   1.96%\r\n\r\nThe default action is to report, for each running instance of zope that it founds:\r\n \r\n* the Current Working Directory (CWD)\r\n* the id of the user who is running the process\r\n* the process PID\r\n* the zope configuration file used by the instance\r\n* the port (as calculated parsing the configuration file)\r\n* the memory usage\r\n\r\nTo obtain usage information for **zps** just type zps --help, you will get this::\r\n\r\n  [user@localhost]$zps\r\n  zps - report a snapshot of the current zope processes.\r\n\r\n  USAGE:\r\n  zps\r\n  zps --help\r\n  zps --pid 1111\r\n  zps --port 8080\r\n  zps --grep plone\r\n\r\nAs you can see **zps** can filter the results per **zps** or port, e.g., if calling **zps**\r\nreturns the report about the two instances above, you will have the following::\r\n\r\n  [user@localhost]$zps --pid 1234\r\n  CWD:      /home/user/plone1\r\n  User:     user\r\n  PID:      1234\r\n  Conf:     /home/user/plone1/parts/instance/etc/zope.conf\r\n  Address:  8081\r\n  Memory:   1.96%\r\n\r\n  [user@localhost]$zps --port 8082\r\n  CWD:      /home/user/plone2\r\n  User:     user\r\n  PID:      12345\r\n  Conf:     /home/user/plone2/parts/instance/etc/zope.conf\r\n  Address:  8082\r\n  Memory:   1.96%\r\n\r\nIn the case no instance is found, you will have::\r\n\r\n  [user@localhost]$zps\r\n  No running zope instance found\r\n\r\n**TODO**: filter output information\r\nIt may happen that your server starts to be crowded. In that case the output of \r\n**zps** is quickly parsable.\r\nTwo command line flags should then be introduced:\r\n \r\n* --show\r\n* --hide\r\n\r\n**TODO**: colorize output\r\nIt would be a nice feature to highlight with colors the memory usage. \r\nIf the output is in the range:\r\n\r\n* 0%-5%: green\r\n* 0%-10%: yellow\r\n* 10%-20%: red\r\n* 20%-100%: blinking red\r\n\r\nExamples\r\n--------\r\n::\r\n\r\n  [user@localhost]$zps --hide CWD,User,Memory\r\n  PID:      1234\r\n  Conf:     /home/user/plone1/parts/instance/etc/zope.conf\r\n  Address:  8081\r\n\r\n  PID:      12345\r\n  Conf:     /home/user/plone2/parts/instance/etc/zope.conf\r\n  Address:  8082\r\n\r\n  [user@localhost]$zps --hide CWD,User,Memory\r\n  CWD:      /home/user/plone1\r\n  User:     user\r\n  Memory:   1.96%\r\n\r\n  CWD:      /home/user/plone2\r\n  User:     user\r\n  Memory:   1.96%\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}